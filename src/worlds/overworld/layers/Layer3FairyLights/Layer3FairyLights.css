.ow-fairyLights {
  pointer-events: none;
  position: absolute;
  inset: 0;
  z-index: 10;
}

.ow-lightWires {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.ow-wire {
  fill: none;
  stroke: #1a1a1a;
  stroke-width: 0.15;
  stroke-linecap: round;
}

.ow-lightsStage {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.ow-lightBulb {
  position: absolute;
  left: var(--x);
  top: var(--y);
  transform: translate(-50%, -50%);
  width: clamp(20px, 3vmin, 40px);
  height: clamp(28px, 4vmin, 55px);
}

.ow-bulbBody {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: clamp(16px, 2.5vmin, 32px);
  height: clamp(22px, 3.2vmin, 44px);
  background: var(--color);
  border-radius: 50% 50% 45% 45%;
  box-shadow:
    inset 0 -5px 10px rgba(0, 0, 0, 0.3),
    inset 0 5px 10px rgba(255, 255, 255, 0.3),
    0 0 3px var(--color);
  
  /* Metallic cap at top */
  &::before {
    content: '';
    position: absolute;
    top: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 8px;
    background: linear-gradient(to bottom, #666, #333, #666);
    border-radius: 2px 2px 0 0;
  }
}

.ow-bulbGlow {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: clamp(50px, 8vmin, 100px);
  height: clamp(50px, 8vmin, 100px);
  background: radial-gradient(
    circle,
    var(--color) 0%,
    transparent 70%
  );
  opacity: 0;
  filter: blur(8px);
  transition: opacity 0.2s ease;
}

/* Bulb is OFF - dimmed appearance */
.ow-bulbBody {
  filter: brightness(0.5) saturate(0.6);
  transition: filter 0.2s ease, box-shadow 0.2s ease;
}

/* ========== GLOWING STATE ========== */
.ow-lightBulb--glowing .ow-bulbGlow {
  opacity: 0.8;
  animation: glowPulse 2s ease-out forwards;
}

.ow-lightBulb--glowing .ow-bulbBody {
  filter: brightness(1.4) saturate(1.2);
  box-shadow:
    inset 0 -5px 10px rgba(0, 0, 0, 0.2),
    inset 0 5px 15px rgba(255, 255, 255, 0.5),
    0 0 20px var(--color),
    0 0 40px var(--color),
    0 0 60px var(--color);
  animation: bulbFlash 2s ease-out forwards;
}

@keyframes glowPulse {
  0% {
    opacity: 0;
    transform: translateX(-50%) scale(0.5);
  }
  25% {
    opacity: 1;
    transform: translateX(-50%) scale(1.5);
  }
  75% {
    opacity: 1;
    transform: translateX(-50%) scale(1.4);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) scale(1);
  }
}

@keyframes bulbFlash {
  0% {
    filter: brightness(0.5) saturate(0.6);
  }
  25% {
    filter: brightness(1.8) saturate(1.4);
  }
  75% {
    filter: brightness(1.8) saturate(1.4);
  }
  100% {
    filter: brightness(0.5) saturate(0.6);
  }
}

@keyframes bulbGlow {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.3);
  }
}
